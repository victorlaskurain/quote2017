<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8" />
        <title>{% block title %}Welcome!{% endblock %}</title>
        <link rel="stylesheet" href="{{ asset('lib/bootstrap/css/bootstrap.min.css') }}">
        <link rel="stylesheet" href="{{ asset('lib/bootstrap/css/bootstrap-theme.min.css') }}">
        <link rel="stylesheet" href="{{ asset('lib/jquery-ui/jquery-ui.min.css') }}">
        <link rel="stylesheet" href="{{ asset('lib/bootstrap-combobox/bootstrap-combobox.css') }}">
        <link rel="stylesheet" href="{{ asset('css/app.css') }}">
        {% block stylesheets %}
        {% endblock %}
        <link rel="icon" type="image/x-icon" href="{{ asset('favicon.ico') }}" />
    </head>
    <!-- Define the locale to have the number inputs format the numbers correctly -->
    <body lang="{{ app.request.locale }}">
        {% block menu %}
        <!-- Bootstrap menu fixed, fixed on top of the page -->
        <nav id="main-menu" class="navbar navbar-default navbar-fixed-top">
            <div class="container-fluid">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="#">{% trans %}app.quotes2017{% endtrans %}</a>
                </div>
                <div id="navbar" class="navbar-collapse collapse">
                    <ul class="nav navbar-nav">
                        <li class="dropdown">
                            <!-- Only show a menu link if the users has the required permissions to access it -->
{% if is_granted("ROLE_QUOTE_EDIT") %}
                            <a href="#"
                               class="dropdown-toggle"
                               data-toggle="dropdown"
                               role="button"
                               aria-haspopup="true"
                               aria-expanded="false">{% trans %}app.quotes{% endtrans %}</a>
                            <ul class="dropdown-menu">
                                <li><a href="{{ path('quoteList') }}#" class="show-quote-list">{% trans %}app.show{% endtrans %}</a></li>
                                <li><a href="{{ path('quoteList') }}#~(page~'edit)" class="new-quote">{% trans %}app.create{% endtrans %}</a></li>
                            </ul>
{% endif %}
                        </li>
{% if is_granted("ROLE_CUSTOMER_EDIT") %}
                        <li class="dropdown">
                            <a href="#"
                               class="dropdown-toggle"
                               data-toggle="dropdown"
                               role="button"
                               aria-haspopup="true"
                               aria-expanded="false">{% trans %}app.customers{% endtrans %}</a>
                            <ul class="dropdown-menu">
                                <li><a href="{{ path("customerList") }}#" class="show-customer-list">{% trans %}app.show{% endtrans %}</a></li>
                                <li><a href="{{ path("customerList") }}#~(page~'edit)" class="new-customer">{% trans %}app.create{% endtrans %}</a></li>
                            </ul>
                        </li>
{% endif %}
                        <li>
                            <a href="/logout">
                                {% trans %}app.logout{% endtrans %}
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
        {% endblock %}
        <div id="content" class="container">
            {% block content %}{% endblock %}
        </div>
        <script>
/**
 * Require.js configuration. The shim property is the requrie.js way of
 * defining dependencies for Javascript modules which do not follow the
 * AMD format. Defining a shim does not load anything, it only defines the
 * dependencies to ensure proper load order.
 */
var require = {
    shim: {
        "bootstrap": { "deps" :["jquery"] },
        "bootstrap-combobox": { "deps" :["jquery", "bootstrap"] },
        "bootstrap-datepicker": { "deps" :["jquery", "bootstrap"] },
        "bootstrap-datepicker/locale/bootstrap-datepicker.es.min": { "deps": ["bootstrap-datepicker"] },
        "bootstrap-datepicker/locale/bootstrap-datepicker.en.min": { "deps": ["bootstrap-datepicker"] },
        "bootstrap-datepicker/locale/bootstrap-datepicker.eu.min": { "deps": ["bootstrap-datepicker"] },
        "bootstrap-datepicker/locale": { "deps": ["bootstrap-datepicker"] },
        "jquery-ui": { "deps" :["jquery"] },
        "jsgrid":    { "deps" :["jquery"] },
        "jsgrid-es": { "deps" :["jsgrid"] },
        "lib/jsurl": {}
    },
    baseUrl: "{{ asset('js') }}",
    paths: {
        "bootstrap": "{{ asset('lib/bootstrap/js/bootstrap.min') }}",
        "bootstrap-combobox": "{{ asset('lib/bootstrap-combobox/bootstrap-combobox') }}",
        "bootstrap-datepicker": "{{ asset('lib/bootstrap-datepicker/js/bootstrap-datepicker.min') }}",
        "bootstrap-datepicker/locale": "{{asset('lib/bootstrap-datepicker/locales')}}",
        "jquery":    "{{ asset('lib/jquery') }}",
        "jquery-ui": "{{ asset('lib/jquery-ui/jquery-ui.min') }}",
        "jsgrid":    "{{ asset('lib/jsgrid/jsgrid') }}",
        "jsgrid-es": "{{ asset('lib/jsgrid/i18n/jsgrid-es') }}",
        "lib":       "{{ asset('lib') }}"
    }
};
        </script>
        <script src="{{ asset('lib/require.js') }}"></script>
        <script>
/**
 * This is a simple way to export translated strings from the twig files
 * to Javascript. To have any text translated in Javascript just add it
 * to this module and require de appStrings module wherever you need the
 * translation.
 */
define("appStrings", function() {
return {
    "accepted":          "{% trans %}app.accepted{% endtrans %}",
    "customer":          "{% trans %}app.customer{% endtrans %}",
    "customer_name":     "{% trans %}app.customer_name{% endtrans %}",
    "customer_number":   "{% trans %}app.customer_number{% endtrans %}",
    "quote_description": "{% trans %}app.quote_description{% endtrans %}",
    "quote_number":      "{% trans %}app.quote_number{% endtrans %}",
    "shipping":          "{% trans %}app.shipping{% endtrans %}",
    "quote_date":        "{% trans %}app.quote_date{% endtrans %}",
    "total"   :          "{% trans %}app.total{% endtrans %}"
}
});

/**
 * This is a simple way to export the requests locale to Javascript.
 */
define("currentlocale",
[
/*
 * load datepicker translation files. Loading only the current locale's
 * translation would be enough but sadly bootstrap-datepicker.en.min does
 * not exist.
 */
    "bootstrap-datepicker/locale/bootstrap-datepicker.es.min"
],
function() {
return "{{ app.request.locale }}";
});
        </script>
        <script>
require([
    "bootstrap"
],
function(){});
        </script>
        {% block javascripts %}
        {% endblock %}
    </body>
</html>
